/*! jQuery.qrcode 0.2 - //larsjung.de/qrcode - MIT License */
(function(a){"use strict";var b=function(a,b,c){var d=g(a,b);return d.addData(c),d.make(),d},c=function(a){for(var c=2;c<=40;c+=1)try{return b(c,"L",a)}catch(d){}return null},d=function(b){var d=c(b.text),e=a("<canvas/>").attr("width",b.width).attr("height",b.height),f=e[0].getContext("2d");b.bgColor&&(f.fillStyle=b.bgColor,f.fillRect(0,0,b.width,b.height));if(d){var g=d.getModuleCount(),h=b.width/g,i=b.height/g,j,k;f.beginPath();for(j=0;j<g;j+=1)for(k=0;k<g;k+=1)d.isDark(j,k)&&f.rect(k*h,j*i,h,i);f.fillStyle=b.color,f.fill()}return e},e=function(b){var d=c(b.text),e=a("<div/>").css({position:"relative",left:0,top:0,padding:0,margin:0,width:b.width,height:b.height});b.bgColor&&e.css("background-color",b.bgColor);if(d){var f=d.getModuleCount(),g=Math.floor(b.width/f),h=Math.floor(b.height/f),i=Math.floor(.5*(b.width-g*f)),j=Math.floor(.5*(b.height-h*f)),k,l;for(k=0;k<f;k+=1)for(l=0;l<f;l+=1)d.isDark(k,l)&&a("<div/>").css({left:i+l*g,top:j+k*h}).appendTo(e);e.children().css({position:"absolute",padding:0,margin:0,width:g,height:h,"background-color":b.color})}return e},f={render:"canvas",width:256,height:256,color:"#000",bgColor:null,text:"no text"};a.fn.qrcode=function(b){var c=a.extend({},f,b);return this.each(function(){a(this).append(c.render==="canvas"?d(c):e(c))})};var g=function(){function g(a,b){if(typeof a.length=="undefined")throw new Error(a.length+"/"+b);var c=function(){var c=0;while(c<a.length&&a[c]==0)c+=1;var d=new Array(a.length-c+b);for(var e=0;e<a.length-c;e+=1)d[e]=a[e+c];return d}(),d={};return d.get=function(a){return c[a]},d.getLength=function(){return c.length},d.multiply=function(a){var b=new Array(d.getLength()+a.getLength()-1);for(var c=0;c<d.getLength();c+=1)for(var e=0;e<a.getLength();e+=1)b[c+e]^=f.gexp(f.glog(d.get(c))+f.glog(a.get(e)));return g(b,0)},d.mod=function(a){if(d.getLength()-a.getLength()<0)return d;var b=f.glog(d.get(0))-f.glog(a.get(0)),c=new Array(d.getLength());for(var e=0;e<d.getLength();e+=1)c[e]=d.get(e);for(var e=0;e<a.getLength();e+=1)c[e]^=f.gexp(f.glog(a.get(e))+b);return g(c,0).mod(a)},d}var a=function(a,b){var d=236,f=17,k=a,l=c[b],m=null,n=0,p=null,q=new Array,r={},s=function(a,b){n=k*4+17,m=function(a){var b=new Array(a);for(var c=0;c<a;c+=1){b[c]=new Array(a);for(var d=0;d<a;d+=1)b[c][d]=null}return b}(n),t(0,0),t(n-7,0),t(0,n-7),w(),v(),y(a,b),k>=7&&x(a),p==null&&(p=B(k,l,q)),z(p,b)},t=function(a,b){for(var c=-1;c<=7;c+=1){if(a+c<=-1||n<=a+c)continue;for(var d=-1;d<=7;d+=1){if(b+d<=-1||n<=b+d)continue;0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?m[a+c][b+d]=!0:m[a+c][b+d]=!1}}},u=function(){var a=0,b=0;for(var c=0;c<8;c+=1){s(!0,c);var d=e.getLostPoint(r);if(c==0||a>d)a=d,b=c}return b},v=function(){for(var a=8;a<n-8;a+=1){if(m[a][6]!=null)continue;m[a][6]=a%2==0}for(var b=8;b<n-8;b+=1){if(m[6][b]!=null)continue;m[6][b]=b%2==0}},w=function(){var a=e.getPatternPosition(k);for(var b=0;b<a.length;b+=1)for(var c=0;c<a.length;c+=1){var d=a[b],f=a[c];if(m[d][f]!=null)continue;for(var g=-2;g<=2;g+=1)for(var h=-2;h<=2;h+=1)g==-2||g==2||h==-2||h==2||g==0&&h==0?m[d+g][f+h]=!0:m[d+g][f+h]=!1}},x=function(a){var b=e.getBCHTypeNumber(k);for(var c=0;c<18;c+=1){var d=!a&&(b>>c&1)==1;m[Math.floor(c/3)][c%3+n-8-3]=d}for(var c=0;c<18;c+=1){var d=!a&&(b>>c&1)==1;m[c%3+n-8-3][Math.floor(c/3)]=d}},y=function(a,b){var c=l<<3|b,d=e.getBCHTypeInfo(c);for(var f=0;f<15;f+=1){var g=!a&&(d>>f&1)==1;f<6?m[f][8]=g:f<8?m[f+1][8]=g:m[n-15+f][8]=g}for(var f=0;f<15;f+=1){var g=!a&&(d>>f&1)==1;f<8?m[8][n-f-1]=g:f<9?m[8][15-f-1+1]=g:m[8][15-f-1]=g}m[n-8][8]=!a},z=function(a,b){var c=-1,d=n-1,f=7,g=0,h=e.getMaskFunction(b);for(var i=n-1;i>0;i-=2){i==6&&(i-=1);for(;;){for(var j=0;j<2;j+=1)if(m[d][i-j]==null){var k=!1;g<a.length&&(k=(a[g]>>>f&1)==1);var l=h(d,i-j);l&&(k=!k),m[d][i-j]=k,f-=1,f==-1&&(g+=1,f=7)}d+=c;if(d<0||n<=d){d-=c,c=-c;break}}}},A=function(a,b){var c=0,d=0,f=0,h=new Array(b.length),i=new Array(b.length);for(var j=0;j<b.length;j+=1){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),f=Math.max(f,l),h[j]=new Array(k);for(var m=0;m<h[j].length;m+=1)h[j][m]=255&a.getBuffer()[m+c];c+=k;var n=e.getErrorCorrectPolynomial(l),o=g(h[j],n.getLength()-1),p=o.mod(n);i[j]=new Array(n.getLength()-1);for(var m=0;m<i[j].length;m+=1){var q=m+p.getLength()-i[j].length;i[j][m]=q>=0?p.get(q):0}}var r=0;for(var m=0;m<b.length;m+=1)r+=b[m].totalCount;var s=new Array(r),t=0;for(var m=0;m<d;m+=1)for(var j=0;j<b.length;j+=1)m<h[j].length&&(s[t]=h[j][m],t+=1);for(var m=0;m<f;m+=1)for(var j=0;j<b.length;j+=1)m<i[j].length&&(s[t]=i[j][m],t+=1);return s},B=function(a,b,c){var g=h.getRSBlocks(a,b),j=i();for(var k=0;k<c.length;k+=1){var l=c[k];j.put(l.getMode(),4),j.put(l.getLength(),e.getLengthInBits(l.getMode(),a)),l.write(j)}var m=0;for(var k=0;k<g.length;k+=1)m+=g[k].dataCount;if(j.getLengthInBits()>m*8)throw new Error("code length overflow. ("+j.getLengthInBits()+">"+m*8+")");j.getLengthInBits()+4<=m*8&&j.put(0,4);while(j.getLengthInBits()%8!=0)j.putBit(!1);for(;;){if(j.getLengthInBits()>=m*8)break;j.put(d,8);if(j.getLengthInBits()>=m*8)break;j.put(f,8)}return A(j,g)};return r.addData=function(a){var b=j(a);q.push(b),p=null},r.isDark=function(a,b){if(a<0||n<=a||b<0||n<=b)throw new Error(a+","+b);return m[a][b]},r.getModuleCount=function(){return n},r.make=function(){s(!1,u())},r.createTableTag=function(a,b){a=a||2,b=typeof b=="undefined"?a*4:b;var c="";c+='<table style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: "+b+"px;",c+='">',c+="<tbody>";for(var d=0;d<r.getModuleCount();d+=1){c+="<tr>";for(var e=0;e<r.getModuleCount();e+=1)c+='<td style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: 0px;",c+=" width: "+a+"px;",c+=" height: "+a+"px;",c+=" background-color: ",c+=r.isDark(d,e)?"#000000":"#ffffff",c+=";",c+='"/>';c+="</tr>"}return c+="</tbody>",c+="</table>",c},r.createImgTag=function(a,b){a=a||2,b=typeof b=="undefined"?a*4:b;var c=r.getModuleCount()*a+b*2,d=b,e=c-b;return o(c,c,function(b,c){if(d<=b&&b<e&&d<=c&&c<e){var f=Math.floor((b-d)/a),g=Math.floor((c-d)/a);return r.isDark(g,f)?0:1}return 1})},r};a.stringToBytes=function(a){var b=new Array;for(var c=0;c<a.length;c+=1){var d=a.charCodeAt(c);b.push(d&255)}return b},a.createStringToBytes=function(a,b){var c=function(){var c=m(a),d=function(){var a=c.read();if(a==-1)throw new Error;return a},e=0,f={};for(;;){var g=c.read();if(g==-1)break;var h=d(),i=d(),j=d(),k=String.fromCharCode(g<<8|h),l=i<<8|j;f[k]=l,e+=1}if(e!=b)throw new Error(e+" != "+b);return f}(),d="?".charCodeAt(0);return function(a){var b=new Array;for(var e=0;e<a.length;e+=1){var f=a.charCodeAt(e);if(f<128)b.push(f);else{var g=c[a.charAt(e)];typeof g=="number"?(g&255)==g?b.push(g):(b.push(g>>>8),b.push(g&255)):b.push(d)}}return b}};var b={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e=function(){var a=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],c=1335,e=7973,h=21522,i={},j=function(a){var b=0;while(a!=0)b+=1,a>>>=1;return b};return i.getBCHTypeInfo=function(a){var b=a<<10;while(j(b)-j(c)>=0)b^=c<<j(b)-j(c);return(a<<10|b)^h},i.getBCHTypeNumber=function(a){var b=a<<12;while(j(b)-j(e)>=0)b^=e<<j(b)-j(e);return a<<12|b},i.getPatternPosition=function(b){return a[b-1]},i.getMaskFunction=function(a){switch(a){case d.PATTERN000:return function(a,b){return(a+b)%2==0};case d.PATTERN001:return function(a,b){return a%2==0};case d.PATTERN010:return function(a,b){return b%3==0};case d.PATTERN011:return function(a,b){return(a+b)%3==0};case d.PATTERN100:return function(a,b){return(Math.floor(a/2)+Math.floor(b/3))%2==0};case d.PATTERN101:return function(a,b){return a*b%2+a*b%3==0};case d.PATTERN110:return function(a,b){return(a*b%2+a*b%3)%2==0};case d.PATTERN111:return function(a,b){return(a*b%3+(a+b)%2)%2==0};default:throw new Error("bad maskPattern:"+a)}},i.getErrorCorrectPolynomial=function(a){var b=g([1],0);for(var c=0;c<a;c+=1)b=b.multiply(g([1,f.gexp(c)],0));return b},i.getLengthInBits=function(a,c){if(1<=c&&c<10)switch(a){case b.MODE_NUMBER:return 10;case b.MODE_ALPHA_NUM:return 9;case b.MODE_8BIT_BYTE:return 8;case b.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(c<27)switch(a){case b.MODE_NUMBER:return 12;case b.MODE_ALPHA_NUM:return 11;case b.MODE_8BIT_BYTE:return 16;case b.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(c<41))throw new Error("type:"+c);switch(a){case b.MODE_NUMBER:return 14;case b.MODE_ALPHA_NUM:return 13;case b.MODE_8BIT_BYTE:return 16;case b.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},i.getLostPoint=function(a){var b=a.getModuleCount(),c=0;for(var d=0;d<b;d+=1)for(var e=0;e<b;e+=1){var f=0,g=a.isDark(d,e);for(var h=-1;h<=1;h+=1){if(d+h<0||b<=d+h)continue;for(var i=-1;i<=1;i+=1){if(e+i<0||b<=e+i)continue;if(h==0&&i==0)continue;g==a.isDark(d+h,e+i)&&(f+=1)}}f>5&&(c+=3+f-5)}for(var d=0;d<b-1;d+=1)for(var e=0;e<b-1;e+=1){var j=0;a.isDark(d,e)&&(j+=1),a.isDark(d+1,e)&&(j+=1),a.isDark(d,e+1)&&(j+=1),a.isDark(d+1,e+1)&&(j+=1);if(j==0||j==4)c+=3}for(var d=0;d<b;d+=1)for(var e=0;e<b-6;e+=1)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;e<b;e+=1)for(var d=0;d<b-6;d+=1)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);var k=0;for(var e=0;e<b;e+=1)for(var d=0;d<b;d+=1)a.isDark(d,e)&&(k+=1);var l=Math.abs(100*k/b/b-50)/5;return c+=l*10,c},i}(),f=function(){var a=new Array(256),b=new Array(256);for(var c=0;c<8;c+=1)a[c]=1<<c;for(var c=8;c<256;c+=1)a[c]=a[c-4]^a[c-5]^a[c-6]^a[c-8];for(var c=0;c<255;c+=1)b[a[c]]=c;var d={};return d.glog=function(a){if(a<1)throw new Error("glog("+a+")");return b[a]},d.gexp=function(b){while(b<0)b+=255;while(b>=256)b-=255;return a[b]},d}(),h=function(){var a=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b=function(a,b){var c={};return c.totalCount=a,c.dataCount=b,c},d={},e=function(b,d){switch(d){case c.L:return a[(b-1)*4+0];case c.M:return a[(b-1)*4+1];case c.Q:return a[(b-1)*4+2];case c.H:return a[(b-1)*4+3];default:return undefined}};return d.getRSBlocks=function(a,c){var d=e(a,c);if(typeof d=="undefined")throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);var f=d.length/3,g=new Array;for(var h=0;h<f;h+=1){var i=d[h*3+0],j=d[h*3+1],k=d[h*3+2];for(var l=0;l<i;l+=1)g.push(b(j,k))}return g},d}(),i=function(){var a=new Array,b=0,c={};return c.getBuffer=function(){return a},c.get=function(b){var c=Math.floor(b/8);return(a[c]>>>7-b%8&1)==1},c.put=function(a,b){for(var d=0;d<b;d+=1)c.putBit((a>>>b-d-1&1)==1)},c.getLengthInBits=function(){return b},c.putBit=function(c){var d=Math.floor(b/8);a.length<=d&&a.push(0),c&&(a[d]|=128>>>b%8),b+=1},c},j=function(c){var d=b.MODE_8BIT_BYTE,e=c,f=a.stringToBytes(c),g={};return g.getMode=function(){return d},g.getLength=function(a){return f.length},g.write=function(a){for(var b=0;b<f.length;b+=1)a.put(f[b],8)},g},k=function(){var a=new Array,b={};return b.writeByte=function(b){a.push(b&255)},b.writeShort=function(a){b.writeByte(a),b.writeByte(a>>>8)},b.writeBytes=function(a,c,d){c=c||0,d=d||a.length;for(var e=0;e<d;e+=1)b.writeByte(a[e+c])},b.writeString=function(a){for(var c=0;c<a.length;c+=1)b.writeByte(a.charCodeAt(c))},b.toByteArray=function(){return a},b.toString=function(){var b="";b+="[";for(var c=0;c<a.length;c+=1)c>0&&(b+=","),b+=a[c];return b+="]",b},b},l=function(){var a=0,b=0,c=0,d="",e={},f=function(a){d+=String.fromCharCode(g(a&63))},g=function(a){if(!(a<0)){if(a<26)return 65+a;if(a<52)return 97+(a-26);if(a<62)return 48+(a-52);if(a==62)return 43;if(a==63)return 47}throw new Error("n:"+a)};return e.writeByte=function(d){a=a<<8|d&255,b+=8,c+=1;while(b>=6)f(a>>>b-6),b-=6},e.flush=function(){b>0&&(f(a<<6-b),a=0,b=0);if(c%3!=0){var e=3-c%3;for(var g=0;g<e;g+=1)d+="="}},e.toString=function(){return d},e},m=function(a){var b=a,c=0,d=0,e=0,f={};f.read=function(){while(e<8){if(c>=b.length){if(e==0)return-1;throw new Error("unexpected end of file./"+e)}var a=b.charAt(c);c+=1;if(a=="=")return e=0,-1;if(a.match(/^\s$/))continue;d=d<<6|g(a.charCodeAt(0)),e+=6}var f=d>>>e-8&255;return e-=8,f};var g=function(a){if(65<=a&&a<=90)return a-65;if(97<=a&&a<=122)return a-97+26;if(48<=a&&a<=57)return a-48+52;if(a==43)return 62;if(a==47)return 63;throw new Error("c:"+a)};return f},n=function(a,b){var c=a,d=b,e=new Array(a*b),f={};f.setPixel=function(a,b,d){e[b*c+a]=d},f.write=function(a){a.writeString("GIF87a"),a.writeShort(c),a.writeShort(d),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeString(","),a.writeShort(0),a.writeShort(0),a.writeShort(c),a.writeShort(d),a.writeByte(0);var b=2,e=h(b);a.writeByte(b);var f=0;while(e.length-f>255)a.writeByte(255),a.writeBytes(e,f,255),f+=255;a.writeByte(e.length-f),a.writeBytes(e,f,e.length-f),a.writeByte(0),a.writeString(";")};var g=function(a){var b=a,c=0,d=0,e={};return e.write=function(a,e){if(a>>>e!=0)throw new Error("length over");while(c+e>=8)b.writeByte(255&(a<<c|d)),e-=8-c,a>>>=8-c,d=0,c=0;d=a<<c|d,c+=e},e.flush=function(){c>0&&b.writeByte(d)},e},h=function(a){var b=1<<a,c=(1<<a)+1,d=a+1,f=i();for(var h=0;h<b;h+=1)f.add(String.fromCharCode(h));f.add(String.fromCharCode(b)),f.add(String.fromCharCode(c));var j=k(),l=g(j);l.write(b,d);var m=0,n=String.fromCharCode(e[m]);m+=1;while(m<e.length){var o=String.fromCharCode(e[m]);m+=1,f.contains(n+o)?n+=o:(l.write(f.indexOf(n),d),f.size()<4095&&(f.size()==1<<d&&(d+=1),f.add(n+o)),n=o)}return l.write(f.indexOf(n),d),l.write(c,d),l.flush(),j.toByteArray()},i=function(){var a={},b=0,c={};return c.add=function(d){if(c.contains(d))throw new Error("dup key:"+d);a[d]=b,b+=1},c.size=function(){return b},c.indexOf=function(b){return a[b]},c.contains=function(b){return typeof a[b]!="undefined"},c};return f},o=function(a,b,c,d){var e=n(a,b);for(var f=0;f<b;f+=1)for(var g=0;g<a;g+=1)e.setPixel(g,f,c(g,f));var h=k();e.write(h);var i=l(),j=h.toByteArray();for(var m=0;m<j.length;m+=1)i.writeByte(j[m]);i.flush();var o="";return o+="<img",o+=' src="',o+="data:image/gif;base64,",o+=i,o+='"',o+=' width="',o+=a,o+='"',o+=' height="',o+=b,o+='"',d&&(o+=' alt="',o+=d,o+='"'),o+="/>",o};return a}()})(jQuery)